import{r as n,j as w,a as y}from"./index-d6a55cd9.js";function j(){const e=n.useRef(null),[r,s]=n.useState(!1),d=n.useCallback(()=>s(!0),[]),o=n.useCallback(()=>s(!1),[]);return n.useEffect(()=>{if(e.current)return e.current.addEventListener("mouseenter",d),e.current.addEventListener("mouseleave",o),()=>{var a,i;(a=e.current)==null||a.removeEventListener("mouseenter",d),(i=e.current)==null||i.removeEventListener("mouseleave",o)}},[]),[e,r]}function M(e){const r=n.useRef(null),s=n.useRef(null),d=n.useMemo(()=>Math.floor(Math.random()*1e5),[]);return n.useEffect(()=>{const o=a=>{s.current={x:a.pageX,y:a.pageY},console.log(d,s.current),setTimeout(()=>s.current=null,100)};return document.documentElement.addEventListener("click",o,!0),()=>{document.documentElement.removeEventListener("click",o,!0)}},[r.current]),s.current}const x=e=>{const r=n.useRef(new Map),s=n.useRef(new Map);return n.useEffect(()=>()=>{var o,a;for(let i of s.current.keys())(a=(o=r==null?void 0:r.current)==null?void 0:o.get(i))==null||a.abort()},[]),[n.useMemo(()=>{const o=t=>{var u;return(u=Object==null?void 0:Object.keys(t))==null?void 0:u.reduce((c,l)=>c+`${l}=${t[l]}`,"")},a=(t,u)=>t.includes("?")?t+"&"+u:t+"?"+u,i=(t,u)=>{const c=u||t;r.current.has(c)||r.current.set(c,new AbortController);const l=r.current.get(c);return s.current.get(c)&&(l==null||l.abort(),r.current.set(c,new AbortController)),s.current.set(c,!0),r.current.get(c)};return{get:(t,u={})=>new Promise(c=>{var f,v;const{data:l={},type:b="json",signal:g,headers:p}=u,h=o(l),E=h?a(t,h):t,k=i(t,g);return(v=(f=fetch(E,{signal:k.signal,headers:p}))==null?void 0:f.then(m=>m[b]()))==null?void 0:v.then(m=>{s.current.delete(t),c({success:!0,data:m})}).catch(m=>{s.current.delete(t),c({success:!1,data:null})})}),post:()=>{}}},[])]},L={analysis:"https://46yun.free1.asia/",weibo:"https://weibo.com/ajax/statuses/hot_band",holiday:"https://raw.githubusercontent.com/imm-o/holiday-cn/master/$var.json",themes:"https://raw.githubusercontent.com/imm-o/themes/main/themes/$type/$var.json"};const R=n.memo(e=>(j(),w("div",{className:"card",style:e.style,children:[y("div",{className:"card-header",style:e.headerStyle,children:e.title}),y("div",{className:"card-body",style:e.bodyStyle,children:e.children})]})));export{R as C,L as a,M as b,j as c,x as u};
