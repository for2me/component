import{r as g,u as N,j as u,a as r}from"./index-ef3bfa11.js";import{B as h,D as M,S as I}from"./media-401a285a.js";import{b as j}from"./useUpdate-09c8c271.js";function w(t){const{total:e,siblings:a=1,boundaries:i=1,page:c,init:m=1,onChange:v}=t,[n,f]=g.useMemo(()=>[Math.max(Math.trunc(e),0),"dots"],[e]),[b,D]=j({value:c,onChange:v,init:m,final:m}),s=N((o,d)=>{const l=d-o+1;return Array.from({length:l},(x,k)=>k+o)}),P=g.useMemo(()=>{const o=d=>{let l;return d<=0&&(l=1),d>n&&(l=n),d>0&&d<=n&&(l=d),D(l),l};return{page:o,first:()=>o(1),last:()=>o(n),next:()=>o(b+1),prev:()=>o(b-1)}},[n,b]);return{range:g.useMemo(()=>{if(a*2+3+i*2>=n)return s(1,n);const d=Math.max(b-a,i),l=Math.min(b+a,n-i),x=d>i+2,k=l<n-(i+1);if(!x&&k){const C=a*2+i+2;return[...s(1,C),f,...s(n-(i-1),n)]}if(x&&!k){const C=i+1+2*a;return[...s(1,i),f,...s(n-C,n)]}return[...s(1,i),f,...s(d,l),f,...s(n-i+1,n)]},[n,a,b]),active:b,...P}}const E=g.memo(t=>{var i;const e=w({total:t.total}),a=N((c,m)=>{var n;let v;switch(c){case 0:v=e.page(m);break;case-1:v=e.prev();break;case 1:v=e.next();break}(n=t==null?void 0:t.onChange)==null||n.call(t,v)});return g.useEffect(()=>{t.page&&t.page!==e.active&&e.page(t.page)},[t.page]),u("div",{className:"pagination-group","data-disabled":t.disabled,onClick:c=>c==null?void 0:c.stopPropagation(),children:[r(h,{bordered:t.bordered,disabled:e.active<=1,onClick:a.bind(null,-1),children:r(M,{left:!0,strokeWidth:"3",color:"#000",thems:"#fff"})}),r("span",{className:"page-item",children:(i=e==null?void 0:e.range)==null?void 0:i.map((c,m)=>c==="dots"?r("div",{className:"pagination-dots",children:r(I,{more:!0,thems:"#000",color:"#000"})},"dot"+m):r(h,{bordered:t.bordered,className:e.active===c&&"active",onClick:a.bind(null,0,c),children:u("span",{children:[" ",c," "]})},"page"+c))}),u("span",{className:"page-item small",children:[t.total>3&&e.active===t.total&&r(h,{bordered:t.bordered,onClick:a.bind(null,0,e.active-2),children:u("span",{children:[" ",e.active-2]})}),e.active>1&&r(h,{bordered:t.bordered,onClick:a.bind(null,0,e.active-1),children:u("span",{children:[" ",e.active-1]})}),r(h,{bordered:t.bordered,className:"active",children:u("span",{children:[" ",e.active]})}),t.total>3&&e.active<t.total&&r(h,{bordered:t.bordered,onClick:a.bind(null,0,e.active+1),children:u("span",{children:[" ",e.active+1]})}),e.active===1&&r(h,{bordered:t.bordered,onClick:a.bind(null,0,e.active+2),children:u("span",{children:[" ",e.active+2]})})]}),r(h,{bordered:t.bordered,disabled:e.active===t.total,onClick:a.bind(null,1),children:r(M,{right:!0,strokeWidth:"3",color:"#000"})})]})});export{E as P,w as u};
