import{r as g,u as D,j as C,a as u}from"./index-d6a55cd9.js";import{B as k,D as M,S as j}from"./media-aad8271b.js";import{b as w}from"./useUpdate-cf567692.js";function A(e){const{total:n,siblings:i=1,boundaries:a=1,page:o,init:h=1,onChange:f}=e,[t,m]=g.useMemo(()=>[Math.max(Math.trunc(n),0),"dots"],[n]),[d,P]=w({value:o,onChange:f,init:h,final:h}),l=D((c,r)=>{const s=r-c+1;return Array.from({length:s},(v,b)=>b+c)}),I=g.useMemo(()=>{const c=r=>{let s;return r<=0&&(s=1),r>t&&(s=t),r>0&&r<=t&&(s=r),P(s),s};return{page:c,first:()=>c(1),last:()=>c(t),next:()=>c(d+1),prev:()=>c(d-1)}},[t,d]);return{range:g.useMemo(()=>{if(i*2+3+a*2>=t)return l(1,t);const r=Math.max(d-i,a),s=Math.min(d+i,t-a),v=r>a+2,b=s<t-(a+1);if(!v&&b){const x=i*2+a+2;return[...l(1,x),m,...l(t-(a-1),t)]}if(v&&!b){const x=a+1+2*i;return[...l(1,a),m,...l(t-x,t)]}return[...l(1,a),m,...l(r,s),m,...l(t-a+1,t)]},[t,i,d]),active:d,...I}}const E=g.memo(e=>{var a;const n=A({total:e.total}),i=D((o,h)=>{var t;let f;switch(o){case 0:f=n.page(h);break;case-1:f=n.prev();break;case 1:f=n.next();break}(t=e==null?void 0:e.onChange)==null||t.call(e,f)});return g.useEffect(()=>{e.page!==n.active&&n.page(e.page)},[e.page]),C("div",{className:"pagination-group","data-disabled":e.disabled,onClick:o=>o==null?void 0:o.stopPropagation(),children:[u(k,{bordered:e.bordered,disabled:n.active<=1,onClick:i.bind(null,-1),children:u(M,{left:!0,strokeWidth:"3",color:"#000",thems:"#fff"})}),(a=n==null?void 0:n.range)==null?void 0:a.map((o,h)=>o==="dots"?u("div",{className:"pagination-dots",children:u(j,{more:!0,thems:"#000",color:"#000"})},"dot"+h):u(k,{bordered:e.bordered,className:n.active===o&&"active",onClick:i.bind(null,0,o),children:C("span",{children:[" ",o," "]})},"page"+o)),u(k,{bordered:e.bordered,disabled:n.active===e.total,onClick:i.bind(null,1),children:u(M,{right:!0,strokeWidth:"3",color:"#000"})})]})});export{E as P,A as u};
