import{r as l,a as r,e as u,j as g,R as x}from"./index-46a772d5.js";import{c as N}from"./index-638cc115.js";import{u as b}from"./useUpdate-1f17c552.js";const T=l.memo(e=>{var n;return r("div",{className:u("group",e.className),style:e.style,onClick:a=>{var c;return[a==null?void 0:a.stopPropagation(),(c=e==null?void 0:e.onClick)==null?void 0:c.call(e,a)]},children:(n=l.Children)==null?void 0:n.toArray(e.children).filter(Boolean)})});const k=l.memo(e=>{const[n,a]=b({}),[c,d]=N(),f=l.useRef(null),t=l.useRef(null);l.useLayoutEffect(()=>{if(c.current&&d&&!e.disabled){const o=c.current,m=f.current,h=o.getBoundingClientRect(),s=m.getBoundingClientRect(),v=o.offsetWidth/h.width,y=m.offsetWidth/s.width,C=h.width*v||0,R=s.width*y||0,P=4;a({opacity:1,hovered:!0,top:o.offsetTop-s.height-P,left:o.offsetLeft+C/2-R/2})}c.current&&!d&&!e.disabled&&(a({opacity:0}),t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{a({hovered:!1})},300))},[d,e.disabled]);const i=l.useMemo(()=>({transitionProperty:"opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",opacity:n.opacity,top:n.top,left:n.left,zIndex:300}),[n]);return g(x.Fragment,{children:[r("span",{ref:c,children:e.children}),!e.disabled&&!!(d||n.hovered)&&r("div",{ref:f,className:"tooltip",style:i,children:e.label})]})});const W=l.memo(e=>{const n=l.useRef({}),[a,c]=b({});l.useLayoutEffect(()=>{if(n.current.after){const i=n.current.after.getBoundingClientRect();a.afterPadding=`calc(${i==null?void 0:i.width}px + 0.35rem)`}if(n.current.before){const i=n.current.before.getBoundingClientRect();a.beforePadding=`calc(${i==null?void 0:i.width}px + 0.35rem)`}},[e.after,e.before]);const d=l.useMemo(()=>({paddingLeft:a.beforePadding||void 0,paddingRight:a.afterPadding||void 0,...e.style}),[a.beforePadding,a.afterPadding,e.style]),f=l.useCallback((t,i)=>{var o;i.stopPropagation(),e[t]&&((o=e==null?void 0:e[t])==null||o.call(e,i))},[]);return console.log("IPUT",{props:e}),g("div",{onClick:t=>t==null?void 0:t.stopPropagation(),"data-disabled":e.disabled||void 0,className:u("input-wrap",e.className),style:e.wrapStyle,children:[!!e.before&&r("div",{ref:t=>n.current.before=t,className:u("input-before",e.beforeClass),children:e.before}),r("input",{className:u("input-input",e.inputClass),placeholder:e.placeholder,"data-before":!!e.before||void 0,"data-after":!!e.after||void 0,"data-borderless":!!e.borderless||void 0,"data-open":!!e.open||void 0,style:d,type:e.type||void 0,readOnly:e.readOnly,autoComplete:"off",value:e.value,onClick:e==null?void 0:e.onClick,onBlur:e.onBlur,onChange:f.bind(null,"onChange"),onInput:f.bind(null,"onInput")}),!!e.after&&r("div",{ref:t=>n.current.after=t,className:u("input-after",e.afterClass),children:e.after})]})});export{T as G,W as I,k as T};
